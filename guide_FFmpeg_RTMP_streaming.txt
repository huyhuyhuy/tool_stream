â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¥ HÆ¯á»šNG DáºªN STREAMING Vá»šI FFMPEG + NGINX-RTMP (30+ FPS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ Tá»”NG QUAN GIáº¢I PHÃP:
- Windows: FFmpeg capture mÃ n hÃ¬nh â†’ push RTMP stream lÃªn VPS
- VPS: Nginx-RTMP nháº­n stream â†’ xuáº¥t HLS cho web viewer  
- Viewer: Truy cáº­p http://VPS_IP Ä‘á»ƒ xem live stream 30+ FPS

ğŸ¯ Æ¯U ÄIá»‚M:
âœ… Streaming 30+ FPS mÆ°á»£t mÃ  (thay vÃ¬ 5 FPS)
âœ… Cháº¥t lÆ°á»£ng cao vá»›i H.264 hardware encoding
âœ… Äá»™ trá»… tháº¥p (~1-3 giÃ¢y)
âœ… Nhiá»u ngÆ°á»i xem cÃ¹ng lÃºc á»•n Ä‘á»‹nh
âœ… Sá»­ dá»¥ng FFmpeg (cÃ´ng cá»¥ streaming hÃ ng Ä‘áº§u)
âœ… Dá»… má»Ÿ rá»™ng vÃ  tÃ¹y chá»‰nh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHáº¦N 1: CÃ€I Äáº¶T VPS UBUNTU (NGINX + RTMP MODULE)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ°á»›c 1: SSH vÃ o VPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ssh root@45.76.190.6

BÆ°á»›c 2: Cáº­p nháº­t há»‡ thá»‘ng
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
apt update && apt upgrade -y

BÆ°á»›c 3: CÃ i Ä‘áº·t cÃ¡c dependencies cáº§n thiáº¿t
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
apt install -y build-essential libpcre3 libpcre3-dev zlib1g zlib1g-dev libssl-dev libgd-dev libxml2 libxml2-dev uuid-dev

BÆ°á»›c 4: Táº¡o thÆ° má»¥c lÃ m viá»‡c
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
mkdir -p ~/nginx_build && cd ~/nginx_build

BÆ°á»›c 5: Download Nginx source code
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
wget http://nginx.org/download/nginx-1.24.0.tar.gz
tar -xzf nginx-1.24.0.tar.gz

BÆ°á»›c 6: Download nginx-rtmp-module
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
wget https://github.com/arut/nginx-rtmp-module/archive/master.zip
apt install -y unzip
unzip master.zip

BÆ°á»›c 7: Compile Nginx vá»›i RTMP module
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd nginx-1.24.0

./configure \
  --prefix=/etc/nginx \
  --sbin-path=/usr/sbin/nginx \
  --modules-path=/usr/lib/nginx/modules \
  --conf-path=/etc/nginx/nginx.conf \
  --error-log-path=/var/log/nginx/error.log \
  --http-log-path=/var/log/nginx/access.log \
  --pid-path=/var/run/nginx.pid \
  --lock-path=/var/run/nginx.lock \
  --http-client-body-temp-path=/var/cache/nginx/client_temp \
  --http-proxy-temp-path=/var/cache/nginx/proxy_temp \
  --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp \
  --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp \
  --http-scgi-temp-path=/var/cache/nginx/scgi_temp \
  --with-perl_modules_path=/usr/share/perl/5.34.0 \
  --user=nginx \
  --group=nginx \
  --with-compat \
  --with-file-aio \
  --with-threads \
  --with-http_addition_module \
  --with-http_auth_request_module \
  --with-http_dav_module \
  --with-http_flv_module \
  --with-http_gunzip_module \
  --with-http_gzip_static_module \
  --with-http_mp4_module \
  --with-http_random_index_module \
  --with-http_realip_module \
  --with-http_secure_link_module \
  --with-http_slice_module \
  --with-http_ssl_module \
  --with-http_stub_status_module \
  --with-http_sub_module \
  --with-http_v2_module \
  --with-stream \
  --with-stream_realip_module \
  --with-stream_ssl_module \
  --with-stream_ssl_preread_module \
  --add-module=../nginx-rtmp-module-master

make && make install

BÆ°á»›c 8: Táº¡o user nginx
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
useradd --system --home /var/cache/nginx --shell /sbin/nologin --comment "nginx user" --user-group nginx

BÆ°á»›c 9: Táº¡o thÆ° má»¥c cache
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
mkdir -p /var/cache/nginx
chown -R nginx:nginx /var/cache/nginx

BÆ°á»›c 10: Táº¡o thÆ° má»¥c cho HLS streams
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
mkdir -p /var/www/html/hls
chown -R nginx:nginx /var/www/html/hls
chmod 755 /var/www/html/hls

BÆ°á»›c 11: Táº¡o file cáº¥u hÃ¬nh nginx.conf
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cat > /etc/nginx/nginx.conf << 'EOF'
user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log;
pid /run/nginx.pid;

events {
    worker_connections 1024;
}

# RTMP Configuration
rtmp {
    server {
        listen 1935;
        chunk_size 4096;
        allow publish all;

        application live {
            live on;
            
            # Enable HLS
            hls on;
            hls_path /var/www/html/hls;
            hls_fragment 1s;
            hls_playlist_length 3s;
            
            # Enable recording (optional)
            record all;
            record_path /var/recordings;
            record_unique on;
            record_suffix .flv;
        }
    }
}

# HTTP Configuration
http {
    log_format main '$remote_addr - $remote_user [$time_local] "$request" '
                    '$status $body_bytes_sent "$http_referer" '
                    '"$http_user_agent" "$http_x_forwarded_for"';

    access_log /var/log/nginx/access.log main;

    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    keepalive_timeout 65;
    types_hash_max_size 2048;

    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    server {
        listen 80;
        server_name _;
        
        # CORS headers for HLS streaming
        add_header Access-Control-Allow-Origin *;
        add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS';
        add_header Access-Control-Allow-Headers 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range';

        # Serve HLS files
        location /hls {
            types {
                application/vnd.apple.mpegurl m3u8;
                video/mp2t ts;
            }
            root /var/www/html;
            expires -1;
            add_header Cache-Control no-cache;
        }

        # Serve main page
        location / {
            root /var/www/html;
            index index.html;
        }

        # RTMP statistics (optional)
        location /stat {
            rtmp_stat all;
            rtmp_stat_stylesheet stat.xsl;
        }

        location /stat.xsl {
            root /etc/nginx/;
        }
    }
}
EOF

BÆ°á»›c 12: Táº¡o systemd service
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cat > /etc/systemd/system/nginx.service << 'EOF'
[Unit]
Description=The nginx HTTP and reverse proxy server
Documentation=http://nginx.org/en/docs/
After=network.target remote-fs.target nss-lookup.target

[Service]
Type=forking
PIDFile=/run/nginx.pid
ExecStartPre=/usr/sbin/nginx -t
ExecStart=/usr/sbin/nginx
ExecReload=/bin/kill -s HUP $MAINPID
KillSignal=SIGQUIT
TimeoutStopSec=5
KillMode=mixed
PrivateTmp=true

[Install]
WantedBy=multi-user.target
EOF

BÆ°á»›c 13: Táº¡o thÆ° má»¥c recordings (optional)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
mkdir -p /var/recordings
chown -R nginx:nginx /var/recordings

BÆ°á»›c 14: Cáº¥u hÃ¬nh firewall
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ufw allow 80/tcp
ufw allow 1935/tcp
ufw status

BÆ°á»›c 15: Khá»Ÿi Ä‘á»™ng Nginx
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
systemctl daemon-reload
systemctl enable nginx
systemctl start nginx
systemctl status nginx

BÆ°á»›c 16: Kiá»ƒm tra Nginx Ä‘ang cháº¡y
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Kiá»ƒm tra port 80
netstat -tulpn | grep :80

# Kiá»ƒm tra port 1935 (RTMP)
netstat -tulpn | grep :1935

# Kiá»ƒm tra log
tail -f /var/log/nginx/error.log

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHáº¦N 2: Táº O WEB VIEWER CHO HLS STREAM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ°á»›c 17: Táº¡o file index.html vá»›i HLS player
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cat > /var/www/html/index.html << 'EOF'
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¥ Live Stream - FFmpeg + Nginx RTMP</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            padding: 20px;
        }

        .container {
            text-align: center;
            max-width: 1200px;
            width: 100%;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .video-container {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        #videoPlayer {
            width: 100%;
            max-width: 1000px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            background: #000;
        }

        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .status.loading {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #ffc107;
            color: #ffc107;
        }

        .status.live {
            background: rgba(40, 167, 69, 0.2);
            border: 2px solid #28a745;
            color: #28a745;
        }

        .status.error {
            background: rgba(220, 53, 69, 0.2);
            border: 2px solid #dc3545;
            color: #dc3545;
        }

        .controls {
            margin: 20px 0;
        }

        .btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.5);
        }

        .info {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            text-align: left;
        }

        .info h3 {
            margin-bottom: 10px;
            color: #ffc107;
        }

        .info ul {
            margin-left: 20px;
        }

        .info li {
            margin: 5px 0;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¥ Live Stream Viewer</h1>
        <p class="subtitle">FFmpeg + Nginx RTMP Streaming (30+ FPS)</p>

        <div class="video-container">
            <video id="videoPlayer" controls autoplay muted>
                <source src="/hls/stream.m3u8" type="application/x-mpegURL">
                Your browser does not support HLS video playback.
            </video>
        </div>

        <div id="status" class="status loading">
            <div class="loading-spinner"></div>
            ğŸ”„ Loading stream...
        </div>

        <div class="controls">
            <button class="btn" onclick="refreshStream()">ğŸ”„ Refresh Stream</button>
            <button class="btn" onclick="toggleMute()">ğŸ”Š Toggle Mute</button>
            <button class="btn" onclick="toggleFullscreen()">ğŸ“º Fullscreen</button>
        </div>

        <div class="info">
            <h3>ğŸ“‹ Stream Information</h3>
            <ul>
                <li><strong>Server:</strong> 45.76.190.6</li>
                <li><strong>RTMP Port:</strong> 1935</li>
                <li><strong>HTTP Port:</strong> 80</li>
                <li><strong>Stream URL:</strong> rtmp://45.76.190.6/live/stream</li>
                <li><strong>HLS URL:</strong> /hls/stream.m3u8</li>
                <li><strong>Protocol:</strong> HLS (HTTP Live Streaming)</li>
                <li><strong>Quality:</strong> Up to 1080p @ 30+ FPS</li>
                <li><strong>Latency:</strong> ~1-3 seconds</li>
            </ul>
        </div>

        <div class="info">
            <h3>ğŸ”§ Troubleshooting</h3>
            <ul>
                <li>If no video appears, make sure FFmpeg is running on Windows</li>
                <li>Check that RTMP stream is being sent to: <code>rtmp://45.76.190.6/live/stream</code></li>
                <li>Verify HLS files are being generated in: <code>/var/www/html/hls/</code></li>
                <li>Check Nginx logs: <code>tail -f /var/log/nginx/error.log</code></li>
            </ul>
        </div>
    </div>

    <!-- HLS.js for browsers that don't support native HLS -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script>
        const video = document.getElementById('videoPlayer');
        const status = document.getElementById('status');
        
        function updateStatus(message, type = 'loading') {
            status.className = `status ${type}`;
            
            let icon = '';
            switch(type) {
                case 'loading': icon = '<div class="loading-spinner"></div>ğŸ”„'; break;
                case 'live': icon = 'ğŸ”´'; break;
                case 'error': icon = 'âŒ'; break;
            }
            
            status.innerHTML = icon + ' ' + message;
        }

        function initializePlayer() {
            if (Hls.isSupported()) {
                console.log('ğŸ¥ Using HLS.js for playback');
                const hls = new Hls({
                    enableWorker: true,
                    lowLatencyMode: true,
                    backBufferLength: 90
                });
                
                hls.loadSource('/hls/stream.m3u8');
                hls.attachMedia(video);
                
                hls.on(Hls.Events.MANIFEST_PARSED, () => {
                    console.log('âœ… HLS manifest loaded');
                    updateStatus('Stream connected - Starting playback...', 'live');
                    video.play().catch(e => {
                        console.warn('âš ï¸ Autoplay prevented:', e);
                        updateStatus('Stream ready - Click play to start', 'live');
                    });
                });
                
                hls.on(Hls.Events.ERROR, (event, data) => {
                    console.error('âŒ HLS error:', data);
                    if (data.fatal) {
                        switch(data.type) {
                            case Hls.ErrorTypes.NETWORK_ERROR:
                                updateStatus('Network error - Retrying...', 'error');
                                hls.startLoad();
                                break;
                            case Hls.ErrorTypes.MEDIA_ERROR:
                                updateStatus('Media error - Retrying...', 'error');
                                hls.recoverMediaError();
                                break;
                            default:
                                updateStatus('Fatal error - Please refresh page', 'error');
                                hls.destroy();
                                break;
                        }
                    }
                });
                
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                console.log('ğŸ¥ Using native HLS support');
                video.src = '/hls/stream.m3u8';
                updateStatus('Stream connected - Starting playback...', 'live');
                video.play().catch(e => {
                    console.warn('âš ï¸ Autoplay prevented:', e);
                    updateStatus('Stream ready - Click play to start', 'live');
                });
            } else {
                console.error('âŒ HLS not supported');
                updateStatus('HLS not supported in this browser', 'error');
            }
        }

        function refreshStream() {
            console.log('ğŸ”„ Refreshing stream...');
            updateStatus('Refreshing stream...', 'loading');
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }

        function toggleMute() {
            video.muted = !video.muted;
            console.log('ğŸ”Š Mute:', video.muted);
        }

        function toggleFullscreen() {
            if (video.requestFullscreen) {
                video.requestFullscreen();
            } else if (video.webkitRequestFullscreen) {
                video.webkitRequestFullscreen();
            } else if (video.msRequestFullscreen) {
                video.msRequestFullscreen();
            }
        }

        // Event listeners
        video.addEventListener('loadstart', () => {
            console.log('ğŸ“º Video load started');
            updateStatus('Loading video...', 'loading');
        });

        video.addEventListener('canplay', () => {
            console.log('âœ… Video can play');
            updateStatus('ğŸ”´ LIVE - Stream active', 'live');
        });

        video.addEventListener('error', (e) => {
            console.error('âŒ Video error:', e);
            updateStatus('Video playback error', 'error');
        });

        video.addEventListener('waiting', () => {
            console.log('â³ Video buffering...');
            updateStatus('Buffering...', 'loading');
        });

        video.addEventListener('playing', () => {
            console.log('â–¶ï¸ Video playing');
            updateStatus('ğŸ”´ LIVE - Stream active', 'live');
        });

        // Initialize player when page loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸš€ Initializing HLS player...');
            updateStatus('Connecting to stream...', 'loading');
            
            // Wait a bit for HLS.js to load
            setTimeout(initializePlayer, 1000);
        });

        // Auto-refresh every 30 seconds if stream fails
        setInterval(() => {
            if (video.readyState === 0 && !video.src) {
                console.log('ğŸ”„ Auto-refreshing due to no stream...');
                initializePlayer();
            }
        }, 30000);
    </script>
</body>
</html>
EOF

BÆ°á»›c 18: Thiáº¿t láº­p quyá»n cho file HTML
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
chown nginx:nginx /var/www/html/index.html
chmod 644 /var/www/html/index.html

BÆ°á»›c 19: Test web server
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Kiá»ƒm tra web server cÃ³ hoáº¡t Ä‘á»™ng khÃ´ng
curl -I http://localhost/

# Káº¿t quáº£ mong Ä‘á»£i: HTTP/1.1 200 OK

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHáº¦N 3: CÃ€I Äáº¶T FFMPEG TRÃŠN WINDOWS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ°á»›c 20: Download FFmpeg cho Windows
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: https://www.gyan.dev/ffmpeg/builds/
2. Download "release builds" â†’ "ffmpeg-release-essentials.zip"
3. Hoáº·c download trá»±c tiáº¿p: https://www.gyan.dev/ffmpeg/builds/ffmpeg-release-essentials.zip

BÆ°á»›c 21: CÃ i Ä‘áº·t FFmpeg
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Giáº£i nÃ©n file zip vá»«a download
2. Copy thÆ° má»¥c "ffmpeg-x.x.x-essentials_build" vÃ o C:\
3. Äá»•i tÃªn thÃ nh "ffmpeg" Ä‘á»ƒ dá»… nhá»›
4. ÄÆ°á»ng dáº«n cuá»‘i cÃ¹ng: C:\ffmpeg\bin\ffmpeg.exe

BÆ°á»›c 22: ThÃªm FFmpeg vÃ o PATH (Windows)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Nháº¥n Windows + R, gÃµ "sysdm.cpl", nháº¥n Enter
2. Chá»n tab "Advanced" â†’ "Environment Variables"
3. Trong "System variables", tÃ¬m vÃ  chá»n "Path" â†’ "Edit"
4. Nháº¥n "New" vÃ  thÃªm: C:\ffmpeg\bin
5. Nháº¥n "OK" trÃªn táº¥t cáº£ cá»­a sá»•
6. Má»Ÿ PowerShell má»›i vÃ  test: ffmpeg -version

BÆ°á»›c 23: Test FFmpeg installation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Má»Ÿ PowerShell (Run as Administrator)
ffmpeg -version

# Káº¿t quáº£ mong Ä‘á»£i: Hiá»ƒn thá»‹ thÃ´ng tin version cá»§a FFmpeg

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHáº¦N 4: STREAMING Tá»ª WINDOWS LÃŠN VPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ°á»›c 24: Test streaming full desktop (30 FPS)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Má»Ÿ PowerShell as Administrator
ffmpeg -f gdigrab -framerate 30 -i desktop -c:v libx264 -preset veryfast -tune zerolatency -b:v 2M -maxrate 2M -bufsize 4M -f flv rtmp://45.76.190.6/live/stream

# Giáº£i thÃ­ch parameters:
# -f gdigrab: Sá»­ dá»¥ng GDI+ Ä‘á»ƒ capture desktop Windows
# -framerate 30: Capture 30 FPS
# -i desktop: Input lÃ  desktop
# -c:v libx264: Encode video báº±ng H.264
# -preset veryfast: Preset nhanh Ä‘á»ƒ giáº£m Ä‘á»™ trá»…
# -tune zerolatency: Tá»‘i Æ°u cho streaming real-time
# -b:v 2M: Bitrate 2 Mbps
# -maxrate 2M: Bitrate tá»‘i Ä‘a 2 Mbps
# -bufsize 4M: Buffer size 4 MB
# -f flv: Output format FLV cho RTMP

BÆ°á»›c 25: Streaming cá»­a sá»• Chrome cá»¥ thá»ƒ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CÃ¡ch 1: Capture window by title (cáº§n Ä‘á»•i title cho Ä‘Ãºng)
ffmpeg -f gdigrab -framerate 30 -i title="Google Chrome" -c:v libx264 -preset veryfast -tune zerolatency -b:v 2M -maxrate 2M -bufsize 4M -f flv rtmp://45.76.190.6/live/stream

# CÃ¡ch 2: Capture má»™t vÃ¹ng mÃ n hÃ¬nh cá»¥ thá»ƒ (vÃ­ dá»¥: 1920x1080 tá»« gÃ³c trÃ¡i trÃªn)
ffmpeg -f gdigrab -framerate 30 -offset_x 0 -offset_y 0 -video_size 1920x1080 -i desktop -c:v libx264 -preset veryfast -tune zerolatency -b:v 2M -maxrate 2M -bufsize 4M -f flv rtmp://45.76.190.6/live/stream

BÆ°á»›c 26: Streaming vá»›i cháº¥t lÆ°á»£ng cao hÆ¡n (1080p, 60 FPS)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ffmpeg -f gdigrab -framerate 60 -i desktop -c:v libx264 -preset fast -tune zerolatency -b:v 5M -maxrate 5M -bufsize 10M -vf scale=1920:1080 -f flv rtmp://45.76.190.6/live/stream

# Parameters cho cháº¥t lÆ°á»£ng cao:
# -framerate 60: 60 FPS
# -b:v 5M: Bitrate 5 Mbps
# -vf scale=1920:1080: Scale vá» 1080p

BÆ°á»›c 27: Streaming vá»›i GPU encoding (náº¿u cÃ³ NVIDIA GPU)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Sá»­ dá»¥ng NVENC (NVIDIA GPU encoding) - nhanh hÆ¡n ráº¥t nhiá»u
ffmpeg -f gdigrab -framerate 30 -i desktop -c:v h264_nvenc -preset fast -tune zerolatency -b:v 3M -maxrate 3M -bufsize 6M -f flv rtmp://45.76.190.6/live/stream

# Náº¿u cÃ³ AMD GPU, dÃ¹ng:
ffmpeg -f gdigrab -framerate 30 -i desktop -c:v h264_amf -preset fast -b:v 3M -maxrate 3M -bufsize 6M -f flv rtmp://45.76.190.6/live/stream

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHáº¦N 5: Táº O SCRIPT Tá»° Äá»˜NG CHO WINDOWS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ°á»›c 28: Táº¡o batch script Ä‘á»ƒ dá»… sá»­ dá»¥ng
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Táº¡o file "stream_to_vps.bat" trÃªn Desktop vá»›i ná»™i dung:

@echo off
title FFmpeg RTMP Streaming to VPS
echo ==========================================
echo   FFmpeg RTMP Streaming to VPS
echo ==========================================
echo.
echo VPS Server: 45.76.190.6
echo RTMP URL: rtmp://45.76.190.6/live/stream
echo Web Viewer: http://45.76.190.6
echo.
echo Starting stream in 3 seconds...
timeout /t 3 /nobreak > nul

echo Starting FFmpeg streaming...
ffmpeg -f gdigrab -framerate 30 -i desktop -c:v libx264 -preset veryfast -tune zerolatency -b:v 2M -maxrate 2M -bufsize 4M -f flv rtmp://45.76.190.6/live/stream

echo.
echo Stream ended. Press any key to exit...
pause > nul

BÆ°á»›c 29: Táº¡o batch script cho Chrome window
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Táº¡o file "stream_chrome_to_vps.bat" trÃªn Desktop:

@echo off
title FFmpeg Chrome Window Streaming
echo ==========================================
echo   Chrome Window Streaming to VPS
echo ==========================================
echo.
echo Please make sure Chrome window is open
echo VPS Server: 45.76.190.6
echo Web Viewer: http://45.76.190.6
echo.
echo Starting Chrome window stream in 3 seconds...
timeout /t 3 /nobreak > nul

echo Starting FFmpeg streaming...
ffmpeg -f gdigrab -framerate 30 -i title="Google Chrome" -c:v libx264 -preset veryfast -tune zerolatency -b:v 2M -maxrate 2M -bufsize 4M -f flv rtmp://45.76.190.6/live/stream

echo.
echo Stream ended. Press any key to exit...
pause > nul

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHáº¦N 6: KIá»‚M TRA VÃ€ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ°á»›c 30: Kiá»ƒm tra stream trÃªn VPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SSH vÃ o VPS vÃ  cháº¡y:

# Kiá»ƒm tra RTMP connections
netstat -an | grep 1935

# Kiá»ƒm tra HLS files Ä‘Æ°á»£c táº¡o
ls -la /var/www/html/hls/

# Theo dÃµi Nginx access log
tail -f /var/log/nginx/access.log

# Theo dÃµi Nginx error log
tail -f /var/log/nginx/error.log

BÆ°á»›c 31: Test web viewer
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: http://45.76.190.6
2. Káº¿t quáº£ mong Ä‘á»£i: Trang web hiá»ƒn thá»‹ vá»›i video player
3. Náº¿u cÃ³ stream, video sáº½ tá»± Ä‘á»™ng phÃ¡t

BÆ°á»›c 32: Troubleshooting phá»• biáº¿n
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PROBLEM: FFmpeg bÃ¡o lá»—i "Connection refused"
SOLUTION: 
- Kiá»ƒm tra VPS cÃ³ cháº¡y Nginx khÃ´ng: systemctl status nginx
- Kiá»ƒm tra port 1935 cÃ³ má»Ÿ khÃ´ng: netstat -tulpn | grep 1935
- Kiá»ƒm tra firewall: ufw status

PROBLEM: Web khÃ´ng hiá»ƒn thá»‹ video
SOLUTION:
- Kiá»ƒm tra HLS files: ls -la /var/www/html/hls/
- Kiá»ƒm tra Nginx error log: tail -f /var/log/nginx/error.log
- Thá»­ refresh trang web

PROBLEM: Video bá»‹ lag hoáº·c cháº­m
SOLUTION:
- Giáº£m framerate: -framerate 15 thay vÃ¬ 30
- Giáº£m bitrate: -b:v 1M thay vÃ¬ 2M
- Äá»•i preset: -preset ultrafast

PROBLEM: KhÃ´ng capture Ä‘Æ°á»£c Chrome window
SOLUTION:
- Thá»­ title chÃ­nh xÃ¡c: ffmpeg -list_devices true -f dshow -i dummy (Ä‘á»ƒ xem danh sÃ¡ch)
- Hoáº·c capture desktop: -i desktop
- Hoáº·c capture vÃ¹ng cá»¥ thá»ƒ: -offset_x 0 -offset_y 0 -video_size 1920x1080

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PHáº¦N 7: Tá»I Æ¯U HÃ“A HIá»†U SUáº¤T
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BÆ°á»›c 33: Tá»‘i Æ°u FFmpeg cho mÃ¡y yáº¿u
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Cáº¥u hÃ¬nh cho mÃ¡y yáº¿u (CPU tháº¥p)
ffmpeg -f gdigrab -framerate 15 -i desktop -c:v libx264 -preset ultrafast -tune zerolatency -b:v 1M -maxrate 1M -bufsize 2M -vf scale=1280:720 -f flv rtmp://45.76.190.6/live/stream

BÆ°á»›c 34: Tá»‘i Æ°u FFmpeg cho mÃ¡y máº¡nh
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Cáº¥u hÃ¬nh cho mÃ¡y máº¡nh (CPU cao)
ffmpeg -f gdigrab -framerate 60 -i desktop -c:v libx264 -preset medium -tune zerolatency -b:v 8M -maxrate 8M -bufsize 16M -vf scale=1920:1080 -f flv rtmp://45.76.190.6/live/stream

BÆ°á»›c 35: Monitoring VPS performance
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Theo dÃµi CPU vÃ  RAM usage
htop

# Theo dÃµi network traffic
iftop

# Theo dÃµi disk I/O
iotop

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Tá»”NG Káº¾T VÃ€ HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ QUY TRÃŒNH Sá»¬ Dá»¤NG HÃ€NG NGÃ€Y:

1. SSH vÃ o VPS vÃ  cháº¡y: systemctl start nginx
2. Kiá»ƒm tra: systemctl status nginx
3. TrÃªn Windows, double-click file "stream_to_vps.bat"
4. Má»Ÿ browser vÃ  truy cáº­p: http://45.76.190.6
5. Enjoy streaming 30+ FPS!

ğŸš€ THÃ”NG Sá» Äá»€ XUáº¤T:

Äá»ƒ cÃ³ cháº¥t lÆ°á»£ng tá»‘t nháº¥t:
- Framerate: 30 FPS (hoáº·c 60 FPS náº¿u mÃ¡y máº¡nh)
- Bitrate: 2-5 Mbps
- Resolution: 1920x1080 (hoáº·c 1280x720 náº¿u máº¡ng cháº­m)
- Preset: veryfast (cÃ¢n báº±ng cháº¥t lÆ°á»£ng/tá»‘c Ä‘á»™)

âš¡ Tá»I Æ¯U HIá»†U SUáº¤T:

- DÃ¹ng GPU encoding (NVENC/AMF) náº¿u cÃ³
- Giáº£m framerate náº¿u mÃ¡y yáº¿u
- Giáº£m bitrate náº¿u máº¡ng cháº­m
- DÃ¹ng preset ultrafast náº¿u CPU yáº¿u

ğŸ¥ Káº¾T QUáº¢ MONG Äá»¢I:

âœ… Streaming mÆ°á»£t mÃ  30+ FPS
âœ… Äá»™ trá»… tháº¥p (1-3 giÃ¢y)
âœ… Cháº¥t lÆ°á»£ng HD (1080p)
âœ… Nhiá»u ngÆ°á»i xem cÃ¹ng lÃºc
âœ… á»”n Ä‘á»‹nh 24/7

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Háº¾T HÆ¯á»šNG DáºªN - CHÃšC Báº N THÃ€NH CÃ”NG! ğŸ‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
